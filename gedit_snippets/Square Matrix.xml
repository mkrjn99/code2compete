<?xml version='1.0' encoding='utf-8'?>
<snippets language="cpp">
  <snippet>
    <tag>smatrix</tag>
    <description>Square Matrix</description>
    <text><![CDATA[
ll mod;
template<class T,int d> class SquareMatrix{
public:
    vector<vector<T> > a;
    SquareMatrix(T x){
        a.resize(d);
        int i,j;
        rep(i,0,d){
            a[i].resize(d);
            rep(j,0,d){
                a[i][j]=((i==j)?x:0);
            }
        }
    }
    SquareMatrix(const vector<vector<T> > &a){
        assert(a.size()==d && a[0].size()==d);
        this->a=a;
    }
    void operator*=(const SquareMatrix<T,d> &b){
        static T t[d][d];
        int i,j,k;
        rep(i,0,d){
            rep(j,0,d){
                t[i][j]=0;
                rep(k,0,d){
                    t[i][j]=(t[i][j]+a[i][k]*b.a[k][j])%mod;
                }
            }
        }
        rep(i,0,d)
            rep(j,0,d)
                a[i][j]=t[i][j];
    }
    void print(){
        int i,j;
        rep(i,0,d){
            rep(j,0,d){
                cout<<a[i][j]<<' ';
            }
            cout<<endl;
        }
    }
};
]]></text>
  </snippet>
</snippets>
